<div class="row">

</div>
<div class="row">
    <div class="col-sm-6 col-md-6 col-lg-6">
        <button class="btn btn-warning" ng-click="confirmDelete('All Student Posts', null, deleteAllStudentPosts)"><i class="fa fa-trash-o"></i> Delete Student Posts</button>
        <div ng-repeat="page in wiki.pages">
            <div class="page-admin form-inline">
                <input class="form-control prev-input" type="number" ng-model="page.prev"
                       ng-change="editPagePrev(page)" ng-blur="editPagePrevDone(page)">
                <input class="form-control admin-input" type="text" ng-model="page.page_name"
                       ng-change="editPage(page)" ng-blur="editPageDone(page)">
                <i class="fa fa-trash-o show-cursor" ng-click="confirmDelete(page.page_name, page, deletePage)"></i>
            </div>
            <div ng-repeat="heading in wiki.headings | filter:{page_id:page.page_id}">
                <div class="heading-admin form-inline">
                    <input class="form-control prev-input" type="number" ng-model="heading.prev"
                           ng-change="editHeadingPrev(heading)" ng-blur="editHeadingPrevDone(heading)">
                    <input class="form-control admin-input" type="text" ng-model="heading.heading_name"
                           ng-change="editHeading(heading)" ng-blur="editHeadingDone(heading)">
                    <i class="fa fa-trash-o show-cursor" ng-click="confirmDelete(heading.heading_name, heading, deleteHeading)"></i>
                </div>
            </div>
        </div>
    </div>
    <div class="col-sm-6 col-md-6 col-lg-6" style="margin-top: 30px;">
        <form class="form-horizontal" role="form">
            <div class="form-group">
                <label for="wikiNameInput" class="col-sm-2 control-label">Name</label>
                <div class="col-sm-10">
                    <input id="wikiNameInput" class="form-control" type="text" ng-model="wiki.wiki_name"
                           ng-change="editWikiName()" ng-blur="editWikiNameDone()">
                </div>
            </div>
            <div class="form-group">
                <label for="wikiLinkInput" class="col-sm-2 control-label">Link</label>
                <div class="col-sm-10">
                    <input id="wikiLinkInput" class="form-control" type="text" ng-model="wiki.logo_link"
                           ng-change="editLogoLink()" ng-blur="editLogoLinkDone()">
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-offset-2 col-sm-10">
                    <div class="checkbox">
                        <label>
                            <input type="checkbox" ng-model="wiki.use_versions" ng-change="toggleWikiSettings()"> Use Versions
                        </label>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-offset-2 col-sm-10">
                    <div class="checkbox">
                        <label>
                            <input type="checkbox" ng-model="wiki.use_comments" ng-change="toggleWikiSettings()"> Allow Comments
                        </label>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-offset-2 col-sm-10">
                    <div class="checkbox">
                        <label>
                            <input type="checkbox" ng-model="wiki.use_anon" ng-change="toggleWikiSettings()"> Allow Anonymous
                        </label>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-offset-2 col-sm-10">
                    <div class="checkbox">
                        <label>
                            <input type="checkbox" ng-model="wiki.use_likes" ng-change="toggleWikiSettings()"> Allow Likes
                        </label>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-offset-2 col-sm-10">
                    <div class="checkbox">
                        <label>
                            <input type="checkbox" ng-model="wiki.add_pages" ng-change="toggleWikiSettings()"> Can Add Pages
                        </label>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-offset-2 col-sm-10">
                    <div class="checkbox">
                        <label>
                            <input type="checkbox" ng-model="wiki.add_sections" ng-change="toggleWikiSettings()"> Can Add Sections
                        </label>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-offset-2 col-sm-10">
                    <label>
                        <input type="number" ng-model="wiki.max_posts" id="maxPostsInput" ng-change="toggleWikiSettings()" min="0" max="99">
                        Max Posts (0 = unlimited)</label>
                </div>
            </div>
        </form>


        <button class="btn btn-primary page-admin" ng-click="editWikiDescription()" style="margin-bottom: 3px;">Save Description</button>
        <textarea id="wiki-description" class="editme"></textarea>
    </div>

</div>

<script type="text/ng-template" id="confirmModal.html">
    <div class="modal-header">
        <h3>Confirm Delete</h3>
    </div>
    <div class="modal-body">
        <p>You are about to delete {{itm.name}}. This cannot be undone. Are you sure you want to delete this and all associated data?</p>
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary" ng-click="ok()">Yes, delete</button>
        <button class="btn btn-warning" ng-click="cancel()">No, do NOT delete</button>
    </div>
</script>
